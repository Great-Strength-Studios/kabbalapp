domain:
  factories: {}
  models:
    app_domain_model:
      base_type_model_id: null
      class_name: AppDomainModel
      dependencies:
      - class_name: DomainModelProperty
        dependency_type: property
        model_id: domain_model_property
        module: null
      description: Domain Model for the application.
      name: App Domain Model
      properties:
      - description: The unique domain model class name.
        name: class_name
        required: true
        type: str
      - description: The domain model name.
        name: name
        required: true
        type: str
      - choices:
        - entity
        - value_object
        description: The domain model type.
        name: type
        required: true
        type: str
      - description: The domain model description for inline documentation.
        name: description
        required: true
        type: str
      - description: The domain model id of the optional base type.
        name: base_type_model_id
        type: str
      - description: Properties associated with the domain model
        inner_type: model
        inner_type_model_id: domain_model_property
        name: properties
        type: list
      type: entity
    app_interface_type:
      base_type_model_id: null
      class_name: AppInterfaceType
      dependencies: []
      description: The application interface type.
      name: App Interface Type
      properties:
      - description: App interface type name.
        name: name
        required: true
        type: str
      - description: App interface type designation.
        name: type
        required: true
        type: str
      type: entity
    app_project:
      base_type_model_id: null
      class_name: AppProject
      dependencies: []
      description: Application project configuration
      name: App Project
      properties:
      - description: The app project tag.
        name: tag
        required: true
        type: str
      - description: App project name.
        name: name
        required: true
        type: str
      - description: The directory containing the app project.
        name: app_directory
        required: true
        type: str
      - choices:
        - yaml
        default: yaml
        description: The schema file type for the app project.
        name: schema_storage_type
        type: str
      - default: app/app.yml
        description: The location of the schema file.
        name: schema_location
        required: true
        type: str
      - description: The Kabbalapp version of the project.
        name: version
        required: true
        type: str
      type: entity
    cli_argument:
      base_type_model_id: null
      class_name: CliArgument
      dependencies: []
      description: A command-line interface argument.
      name: CLI Argument
      properties:
      - description: The name or flags for the CLI argument.
        inner_type: str
        name: name_or_flags
        required: true
        type: list
      - description: The help text for the CLI argument.
        name: help
        required: true
        type: str
      - choices:
        - str
        - int
        - float
        description: The data type of the CLI argument.
        name: type
        type: str
      - description: Flag if the CLI argument is required.
        name: required
        type: bool
      - description: The number of argument values for the CLI argument.
        name: nargs
        type: str
      - description: The choice of values for the CLI argument.
        inner_type: str
        name: choices
        type: list
      type: value_object
    cli_command:
      base_type_model_id: null
      class_name: CliCommand
      dependencies: []
      description: A command-line interface command.
      name: CLI Command
      properties: []
      type: entity
    cli_interface_type:
      base_type_model_id: app_interface_type
      class_name: CliInterfaceType
      dependencies:
      - class_name: AppInterfaceType
        dependency_type: base_type
        model_id: app_interface_type
        module: null
      description: CLI App interface type.
      name: CLI Interface Type
      properties: []
      type: entity
    date_time_type_properties:
      base_type_model_id: type_properties
      class_name: DateTimeTypeProperties
      dependencies:
      - class_name: TypeProperties
        dependency_type: base_type
        model_id: type_properties
        module: null
      name: Date Time Type Properties
      properties:
      - name: formats
        type: str
      - name: serialized_format
        type: str
      - name: parser
        type: str
      - choices:
        - allow
        - reject
        - require
        - utc
        default: allow
        name: tzd
        type: str
      - default: 'False'
        name: convert_tz
        type: bool
      - default: 'False'
        name: drop_tzinfo
        type: bool
      type: value_object
    date_type_properties:
      base_type_model_id: type_properties
      class_name: DateTypeProperties
      dependencies:
      - class_name: TypeProperties
        dependency_type: base_type
        model_id: type_properties
        module: null
      name: Date Type Properties
      properties:
      - name: formats
        type: str
      type: value_object
    dict_type_properties:
      base_type_model_id: type_properties
      class_name: DictTypeProperties
      dependencies:
      - class_name: TypeProperties
        dependency_type: base_type
        model_id: type_properties
        module: null
      name: Dictionary Type Properties
      properties:
      - name: coerce_key
        type: str
      type: value_object
    domain_model_property:
      base_type_model_id: model_property
      class_name: DomainModelProperty
      dependencies:
      - class_name: ModelProperty
        dependency_type: base_type
        model_id: model_property
        module: null
      description: A property for a domain model.
      name: Domain Model Property
      properties:
      - choices:
        - str
        - int
        - float
        - bool
        - date
        - datetime
        - timestamp
        - list
        - dict
        - poly
        - model
        description: The domain model property type.
        name: type
        required: true
        type: str
      - description: The inner type domain model ID for a model-typed property.
        name: inner_type_model_id
        type: str
      - description: The inner type domain model IDs for a poly-typed property.
        inner_type: str
        name: poly_type_model_ids
        type: list
      type: value_object
    list_type_properties:
      base_type_model_id: type_properties
      class_name: ListTypeProperties
      dependencies:
      - class_name: TypeProperties
        dependency_type: base_type
        model_id: type_properties
        module: null
      name: List Type Properties
      properties:
      - name: min_size
        type: int
      - name: max_size
        type: int
      type: value_object
    model_property:
      base_type_model_id: null
      class_name: ModelProperty
      dependencies:
      - class_name: StringTypeProperties
        dependency_type: property
        model_id: string_type_properties
        module: null
      - class_name: DateTypeProperties
        dependency_type: property
        model_id: date_type_properties
        module: null
      - class_name: DateTimeTypeProperties
        dependency_type: property
        model_id: date_time_type_properties
        module: null
      - class_name: ListTypeProperties
        dependency_type: property
        model_id: list_type_properties
        module: null
      - class_name: DictTypeProperties
        dependency_type: property
        model_id: dict_type_properties
        module: null
      methods:
        update:
          parameters:
          - name: setting
            required: true
            type: str
          - default: null
            name: value
            type: str
          type: behavior
      name: Model Property
      properties:
      - name: name
        required: true
        type: str
      - name: type
        required: true
        type: str
      - name: inner_type
        type: str
      - name: required
        type: bool
      - name: default
        type: str
      - inner_type: str
        name: choices
        type: list
      - name: description
        type: str
      - name: type_properties
        poly_type_model_ids:
        - string_type_properties
        - date_type_properties
        - date_time_type_properties
        - list_type_properties
        - dict_type_properties
        type: poly
      type: value_object
    string_type_properties:
      base_type_model_id: type_properties
      class_name: StringTypeProperties
      dependencies:
      - class_name: TypeProperties
        dependency_type: base_type
        model_id: type_properties
        module: null
      name: String Type Properties
      properties:
      - name: regex
        type: str
      - name: min_length
        type: int
      - name: max_length
        type: int
      type: value_object
    type_properties:
      class_name: TypeProperties
      name: Type Properties
      properties: []
      type: value_object
  modules:
    cli:
      aliases: null
      components:
      - class_name: CliArgument
        name: App CLI Argument
        properties:
          action:
            description: argument action
            name: Action
            required: false
            type: str
          default:
            description: default argument value
            name: default
            type: str
          help:
            description: app argument help
            name: Help
            required: true
            type: str
          key:
            name: Key
            required: true
            type: str
          nargs:
            description: number of arguments
            name: Number of arguments
            required: false
            type: str
          type:
            choices:
            - str
            - int
            - float
            description: app arggument type
            name: Type
            type: str
        type: value_object
      - class_name: CliCommand
        name: App CLI Command
        properties:
          arguments:
            description: app command arguments list
            inner_type: CliArgument
            name: Arguments
            required: false
            type: list
          command_key:
            description: app command model key
            name: Command key
            required: true
            type: str
          help:
            description: app subcommand help
            name: Help
            required: true
            type: str
          name:
            description: app subcommand name
            name: Name
            required: true
            type: str
          subcommand_key:
            description: app sub-command key
            name: Sub-command key
            required: false
            type: str
      - class_name: CliInterface
        factory_method:
          method_name: create
        name: App CLI Interface
        properties:
          type:
            choices:
            - cli
            - rest_flask
            description: interface type
            name: type
            required: true
            type: str
      dependencies:
      - i
      name: cli
    domain:
      aliases:
      - d
      constants: {}
      models: {}
      name: Domain
      repos: {}
    interface:
      aliases:
      - i
      components:
      - class_name: AppInterface
        name: App Interface
        properties:
          mappers:
            description: interface mapper functions
            inner_type: str
            key_type: str
            name: mappers
            type: dict
          type:
            choices:
            - cli
            - rest_flask
            description: interface type
            name: type
            required: true
            type: str
        type: entity
      name: App Interface
    project:
      aliases:
      - proj
      - p
      models:
        app_project:
          class_name: AppProject
          name: App Project
      name: App Project
  repos: {}
errors:
  APP_KEY_REQUIRED:
    error_code: '000000003'
    message:
      en_US: App key is required
  APP_PROJECT_NOT_FOUND:
    error_code: '000010001'
    message:
      en_US: App Project with key "{}" not found
  CLI_ARGUMENT_ALREADY_EXISTS:
    error_code: '000000006'
    message:
      en_US: A CLI argument with one of the following keys "{}" already exists
  CLI_COMMAND_ALREADY_EXISTS:
    error_code: '000000005'
    message:
      en_US: CLI command with key "{}" already exists
  CLI_COMMAND_NOT_FOUND:
    error_code: '000000003'
    message:
      en_US: CLI command with key "{}" not found
  DOMAIN_MODEL_ALREADY_EXISTS:
    error_code: '000020001'
    message:
      en_US: Domain model of type "{}" with class name "{}" already exists
  DOMAIN_MODEL_BASE_TYPE_NOT_FOUND:
    error_code: '000020005'
    message:
      en_US: Domain model with id "{}" not found and can not be used as base type.
  DOMAIN_MODEL_INVALID_BASE_TYPE:
    error_code: '000020006'
    message:
      en_US: Domain model with id "{}" is not a valid base type "{}".
  DOMAIN_MODEL_NOT_FOUND:
    error_code: '000020002'
    message:
      en_US: Domain model with id "{}" not found
  DOMAIN_MODEL_PROPERTY_ALREADY_EXISTS:
    error_code: '000020003'
    message:
      en_US: Domain model property with name "{}" already exists
  DOMAIN_MODEL_PROPERTY_INNER_TYPE_NOT_FOUND:
    error_code: '000020004'
    message:
      en_US: Domain model property with name "{}" has invalid inner type "{}"
  DOMAIN_MODEL_PROPERTY_NOT_FOUND:
    error_code: '000020005'
    message:
      en_US: Domain model property with name "{}" not found
  ENDPOINT_NOT_FOUND:
    error_code: '000000002'
    message:
      en_US: 'Unable to find the requested endpoint. Subdomain: {}, Module: {}'
    status_code: 404
  INTERFACE_ALREADY_EXISTS:
    error_code: '000010002'
    message:
      en_US: Interface with type "{}" already exists
  INTERFACE_TYPE_NOT_FOUND:
    error_code: '000010003'
    message:
      en_US: Interface with type "{}" not found
  INVALID_REQUEST_DATA:
    error_code: '000000001'
    message:
      en_US: 'Invalid request contains the following errors: {}'
  INVALID_TYPE_PROPERTY:
    error_code: '000020007'
    message:
      en_US: Model property with type "{}" contains invalid type property "{}"
features:
  groups:
    app:
      features:
        new:
          functions:
          - data_mapping: new_app_project
            function_path: app.new_app_project
          header_mapping: app_project_headers
        set_default:
          functions:
          - data_mapping: set_default_app_project
            function_path: app.set_default_app_project
          header_mapping: app_project_headers
    cli:
      features:
        add_argument:
          functions:
          - data_mapping: add_cli_argument
            function_path: cli.add_argument
        add_command:
          functions:
          - data_mapping: add_cli_command
            function_path: cli.add_command
        add_parent_argument:
          functions:
          - data_mapping: add_cli_parent_argument
            function_path: cli.add_parent_argument
    domain:
      features:
        add_model:
          functions:
          - data_mapping: add_domain_model
            function_path: domain.add_domain_model
        add_model_property:
          functions:
          - data_mapping: add_domain_model_property
            function_path: domain.add_model_property
        remove_model_property:
          functions:
          - data_mapping: remove_domain_model_property
            function_path: domain.remove_model_property
        update_model_property:
          functions:
          - data_mapping: update_domain_model_property
            function_path: domain.update_model_property
    interface:
      features:
        add:
          functions:
          - data_mapping: add_interface
            function_path: interface.add_interface
interfaces:
  types:
    cli:
      commands:
        app:
          subcommands:
            new:
              arguments:
              - help: App project directory path
                name_or_flags:
                - -d
                - --app-directory
                required: true
                type: str
              - help: App project tag
                name_or_flags:
                - -t
                - --tag
                required: true
                type: str
              - help: App project name
                name_or_flags:
                - name
                type: str
              help: create new app project
              name: Add Project
            set_default:
              arguments:
              - help: app project tag
                name_or_flags:
                - tag
              help: sets the default app project
              name: Set Default App Project
        cli:
          subcommands:
            add_argument:
              arguments:
              - help: argument action
                name_or_flags:
                - --action
              - help: argument choices
                name_or_flags:
                - --choices
                nargs: +
              - help: command key
                name_or_flags:
                - -c
                - --command-key
                required: true
              - help: argument default
                name_or_flags:
                - --default
              - help: argument flags
                name_or_flags:
                - -f
                - --flags
                nargs: +
              - help: argument description
                name_or_flags:
                - -d
                - --description
                required: true
              - help: argument name
                name_or_flags:
                - name
              - help: available number of arguments
                name_or_flags:
                - --nargs
              - action: store_true
                help: argument is positional
                name_or_flags:
                - -p
                - --positional
              - action: store_true
                help: argument required
                name_or_flags:
                - --required
              - help: subcommand key
                name_or_flags:
                - -s
                - --subcommand-key
              - choices:
                - str
                - int
                - float
                help: argument type
                name_or_flags:
                - -t
                - --type
              name: Add CLI Argument
            add_command:
              arguments:
              - help: cli command key
                name_or_flags:
                - --command-key
                - -c
                required: true
              - help: cli subcommand key
                name_or_flags:
                - --subcommand-key
                - -s
              - help: cli command name
                name_or_flags:
                - name
              - help: cli command description
                name_or_flags:
                - --description
                - -d
              name: Add CLI Command
            add_parent_argument:
              arguments:
              - help: argument action
                name_or_flags:
                - --action
              - help: argument choices
                name_or_flags:
                - --choices
                nargs: +
              - help: argument default
                name_or_flags:
                - --default
              - help: argument flags
                name_or_flags:
                - -f
                - --flags
                nargs: +
              - help: argument description
                name_or_flags:
                - -d
                - --description
                required: true
              - help: argument name
                name_or_flags:
                - name
              - help: available number of arguments
                name_or_flags:
                - --nargs
              - action: store_true
                help: argument is positional
                name_or_flags:
                - -p
                - --positional
              - action: store_true
                help: argument required
                name_or_flags:
                - --required
              - choices:
                - str
                - int
                - float
                - bool
                - list
                - dict
                help: argument type
                name_or_flags:
                - --type
              name: Add CLI Parent Argument
        domain:
          subcommands:
            add_model:
              arguments:
              - help: domain model class name
                name_or_flags:
                - --class-name
                - -c
                required: true
              - choices:
                - entity
                - value_object
                help: domain model type
                name_or_flags:
                - --type
                - -t
                required: true
              - help: domain model name
                name_or_flags:
                - name
              - help: model id of the model base type
                name_or_flags:
                - --base-type-model-id
              - help: domain model description
                name_or_flags:
                - --description
                - -d
                required: true
                type: str
              name: Add Domain Model
            add_model_property:
              arguments:
              - help: domain model property choices
                name_or_flags:
                - --choices
                nargs: +
              - help: default domain model property value
                name_or_flags:
                - --default
              - help: domain model property description
                name_or_flags:
                - -d
                - --description
                required: true
              - help: parent domain model id
                name_or_flags:
                - -p
                - --parent-model-id
                required: true
              - help: domain model property name
                name_or_flags:
                - name
              - action: store_true
                help: require value for domain model property
                name_or_flags:
                - --required
              - choices:
                - str
                - int
                - float
                - bool
                - datetime
                - date
                - list
                - dict
                - poly
                - model
                default: str
                help: domain model property type
                name_or_flags:
                - --type
                - -t
              - help: inner type for compound types (list, dict)
                name_or_flags:
                - --inner-type
              - help: domain model property type properties separated by '='
                name_or_flags:
                - --type-properties
                nargs: +
              - help: model id if inner type of compound model propery is a value
                  object
                name_or_flags:
                - --inner-type-model-id
              - help: model ids for a poly-model property type
                name_or_flags:
                - --poly-type-model-ids
                nargs: +
              name: Add Domain Model Property
            remove-model-property:
              arguments:
              - help: id of model containing property to remove
                name_or_flags:
                - --model-id
                - -m
                required: true
                type: str
              - help: name of property to remove
                name_or_flags:
                - --property-name
                - -p
                required: true
                type: str
              help: remove domain model property
              name: Remove Model Property
            update-model-property:
              arguments:
              - help: id of model containing property to update
                name_or_flags:
                - --model-id
                - -m
                required: true
                type: str
              - help: name of property to update
                name_or_flags:
                - --property-name
                - -p
                required: true
                type: str
              - choices:
                - name
                - required
                - default
                - choices
                - description
                help: the model property setting to be updated
                name_or_flags:
                - --property-setting
                - -s
                required: true
                type: str
              - help: the value of the property setting to update
                name_or_flags:
                - --value
                - -v
                type: str
              help: updates model property setting
              name: Update Model Property
        interface:
          subcommands:
            add:
              arguments:
              - choices:
                - cli
                - rest_flask
                help: interface type
                name_or_flags:
                - --type
                - -t
                required: true
              - help: name of the interface
                name_or_flags:
                - name
                type: str
              name: Add App Interface
      parent_arguments:
      - help: app project key (not required when using default project)
        name_or_flags:
        - --app-key
      - choices:
        - dev
        - prod
        default: prod
        help: environment to run the command in
        name_or_flags:
        - --env
      - action: store_true
        help: force the command overwrite existing files when syncing
        name_or_flags:
        - --force
      - action: store_true
        help: run the command with verbose output
        name_or_flags:
        - --verbose
requests:
  add_domain_model:
    class_name: AddDomainModel
    properties:
    - description: The domain model name.
      name: name
      required: true
      type: str
    - description: The unique domain model class name.
      name: class_name
      required: true
      type: str
    - choices:
      - entity
      - value_object
      description: The domain model type.
      name: type
      required: true
      type: str
    - description: The domain model description for inline documentation.
      name: description
      required: true
      type: str
    - description: The domain model id of the base type.
      name: base_type_model_id
      type: str
  update_domain_model_property:
    class_name: UpdateDomainModelProperty
    properties:
    - name: model_id
      required: true
      type: str
    - name: property_name
      required: true
      type: str
    - choices:
      - name
      - required
      - default
      - choices
      - description
      name: property_setting
      required: true
      type: str
    - name: value
      type: str
